load("@io_bazel_rules_kotlin//kotlin:kotlin.bzl", "kt_jvm_test")
load("//src/main/kotlin/org/wfanet/measurement/db/gcp/testing:macros.bzl", "spanner_emulator_test")

kt_jvm_test(
    name = "FiltersTest",
    srcs = ["FiltersTest.kt"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.FiltersTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/common",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
    ],
)

spanner_emulator_test(
    name = "KingdomSchemaTest",
    srcs = ["KingdomSchemaTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.KingdomSchemaTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/org/junit",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "AssociateRequisitionAndReportTransactionTest",
    srcs = ["AssociateRequisitionAndReportTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.AssociateRequisitionAndReportTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateAdvertiserTransactionTest",
    srcs = ["CreateAdvertiserTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateAdvertiserTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateCampaignTransactionTest",
    srcs = ["CreateCampaignTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateCampaignTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateDataProviderTransactionTest",
    srcs = ["CreateDataProviderTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateDataProviderTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateRequisitionTransactionTest",
    srcs = ["CreateRequisitionTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateRequisitionTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateReportConfigTransactionTest",
    srcs = ["CreateReportConfigTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateReportConfigTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateReportLogEntryTransactionTest",
    srcs = ["CreateReportLogEntryTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateReportLogEntryTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateScheduleTransactionTest",
    srcs = ["CreateScheduleTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateScheduleTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "ConfirmDuchyReadinessTransactionTest",
    srcs = ["ConfirmDuchyReadinessTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.ConfirmDuchyReadinessTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/common/identity/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "FulfillRequisitionTransactionTest",
    srcs = ["FulfillRequisitionTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.FulfillRequisitionTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "GetReportQueryTest",
    srcs = ["GetReportQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.GetReportQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "ReadRequisitionTemplatesQueryTest",
    srcs = ["ReadRequisitionTemplatesQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.ReadRequisitionTemplatesQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "StreamRequisitionsQueryTest",
    srcs = ["StreamRequisitionsQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.StreamRequisitionsQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "CreateNextReportTransactionTest",
    srcs = ["CreateNextReportTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.CreateNextReportTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/common/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "StreamReportsQueryTest",
    srcs = ["StreamReportsQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.StreamReportsQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "StreamReadyReportsQueryTest",
    srcs = ["StreamReadyReportsQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.StreamReadyReportsQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "StreamReadySchedulesQueryTest",
    srcs = ["StreamReadySchedulesQueryTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.StreamReadySchedulesQueryTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlinx/coroutines:core",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "FinishReportTransactionTest",
    srcs = ["FinishReportTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.FinishReportTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)

spanner_emulator_test(
    name = "UpdateReportStateTransactionTest",
    srcs = ["UpdateReportStateTransactionTest.kt"],
    resources = [
        "//src/main/db/gcp:kingdom_schema",
    ],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.UpdateReportStateTransactionTest",
    deps = [
        "//imports/java/com/google/cloud/spanner",
        "//imports/java/com/google/common/truth",
        "//imports/java/com/google/common/truth/extensions/proto",
        "//imports/java/org/junit",
        "//imports/kotlin/kotlin/test",
        "//src/main/kotlin/org/wfanet/measurement/db/gcp/testing",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
        "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    ],
)
