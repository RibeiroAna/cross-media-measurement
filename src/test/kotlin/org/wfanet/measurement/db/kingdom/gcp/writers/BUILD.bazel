load("//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing:macros.bzl", "spanner_emulator_test")

_TEST_DEPS = [
    "//imports/java/com/google/cloud/spanner",
    "//imports/java/com/google/common/truth",
    "//imports/java/org/junit",
    "//imports/kotlin/kotlin/test",
    "//src/main/kotlin/org/wfanet/measurement/common",
    "//src/main/kotlin/org/wfanet/measurement/common/identity",
    "//src/main/kotlin/org/wfanet/measurement/common/identity/testing",
    "//src/main/kotlin/org/wfanet/measurement/common/testing",
    "//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/writers",
]

spanner_emulator_test(
    name = "SpannerWriterTest",
    srcs = ["SpannerWriterTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.SpannerWriterTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "AssociateRequisitionAndReportTest",
    srcs = ["AssociateRequisitionAndReportTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.AssociateRequisitionAndReportTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "ConfirmDuchyReadinessTest",
    srcs = ["ConfirmDuchyReadinessTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.ConfirmDuchyReadinessTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateAdvertiserTest",
    srcs = ["CreateAdvertiserTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateAdvertiserTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateCampaignTest",
    srcs = ["CreateCampaignTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateCampaignTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateDataProviderTest",
    srcs = ["CreateDataProviderTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateDataProviderTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateNextReportTest",
    srcs = ["CreateNextReportTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateNextReportTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateReportConfigTest",
    srcs = ["CreateReportConfigTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateReportConfigTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateReportLogEntryTest",
    srcs = ["CreateReportLogEntryTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateReportLogEntryTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateRequisitionTest",
    srcs = ["CreateRequisitionTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateRequisitionTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "CreateScheduleTest",
    srcs = ["CreateScheduleTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.CreateScheduleTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "FulfillRequisitionTest",
    srcs = ["FulfillRequisitionTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.FulfillRequisitionTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "FinishReportTest",
    srcs = ["FinishReportTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.FinishReportTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "UpdateReportStateTest",
    srcs = ["UpdateReportStateTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.writers.UpdateReportStateTest",
    deps = _TEST_DEPS,
)
