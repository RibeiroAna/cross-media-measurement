load("//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing:macros.bzl", "spanner_emulator_test")

_TEST_DEPS = [
    "//imports/java/com/google/cloud/spanner",
    "//imports/java/com/google/common/truth",
    "//imports/java/com/google/common/truth/extensions/proto",
    "//imports/java/org/junit",
    "//imports/kotlin/kotlin/test",
    "//src/main/kotlin/org/wfanet/measurement/gcloud/spanner/testing",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/queries",
    "//src/main/kotlin/org/wfanet/measurement/db/kingdom/gcp/testing",
]

spanner_emulator_test(
    name = "GetReportTest",
    srcs = ["GetReportTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.GetReportTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "ReadRequisitionTemplatesTest",
    srcs = ["ReadRequisitionTemplatesTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.ReadRequisitionTemplatesTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "StreamRequisitionsTest",
    srcs = ["StreamRequisitionsTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.StreamRequisitionsTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "StreamReportsTest",
    srcs = ["StreamReportsTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.StreamReportsTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "StreamReadyReportsTest",
    srcs = ["StreamReadyReportsTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.StreamReadyReportsTest",
    deps = _TEST_DEPS,
)

spanner_emulator_test(
    name = "StreamReadySchedulesTest",
    srcs = ["StreamReadySchedulesTest.kt"],
    resources = ["//src/main/db/gcp:kingdom_schema"],
    test_class = "org.wfanet.measurement.db.kingdom.gcp.queries.StreamReadySchedulesTest",
    deps = _TEST_DEPS,
)
